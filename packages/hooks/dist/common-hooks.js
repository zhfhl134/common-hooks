!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports["common-hooks"]=t(require("React")):n["common-hooks"]=t(n.React)}(this,(function(n){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=7)}([function(t,e){t.exports=n},function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return u}));var r,o,u=function(n){return"function"==typeof n};r="object"==(void 0===n?"undefined":typeof n)&&n&&n.Object===Object&&n,o="object"==typeof self&&self&&self.Object===Object&&self,r||o||(n.Date=Date)}).call(this,e(5))},function(n,t,e){"use strict";t.a=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},,function(n,t,e){"use strict";var r=e(2),o=e(6),u="object"==typeof self&&self&&self.Object===Object&&self,i=o.a||u||Function("return this")(),c=function(){return i.Date.now()},a=/\s/;var f=function(n){for(var t=n.length;t--&&a.test(n.charAt(t)););return t},l=/^\s+/;var s=function(n){return n?n.slice(0,f(n)+1).replace(l,""):n},d=i.Symbol,v=Object.prototype,p=v.hasOwnProperty,h=v.toString,b=d?d.toStringTag:void 0;var y=function(n){var t=p.call(n,b),e=n[b];try{n[b]=void 0;var r=!0}catch(n){}var o=h.call(n);return r&&(t?n[b]=e:delete n[b]),o},m=Object.prototype.toString;var g=function(n){return m.call(n)},O=d?d.toStringTag:void 0;var j=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":O&&O in Object(n)?y(n):g(n)};var w=function(n){return null!=n&&"object"==typeof n};var S=function(n){return"symbol"==typeof n||w(n)&&"[object Symbol]"==j(n)},T=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,x=/^0o[0-7]+$/i,R=parseInt;var E=function(n){if("number"==typeof n)return n;if(S(n))return NaN;if(Object(r.a)(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=Object(r.a)(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=s(n);var e=P.test(n);return e||x.test(n)?R(n.slice(2),e?2:8):T.test(n)?NaN:+n},M=Math.max,A=Math.min;t.a=function(n,t,e){var o,u,i,a,f,l,s=0,d=!1,v=!1,p=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function h(t){var e=o,r=u;return o=u=void 0,s=t,a=n.apply(r,e)}function b(n){return s=n,f=setTimeout(m,t),d?h(n):a}function y(n){var e=n-l;return void 0===l||e>=t||e<0||v&&n-s>=i}function m(){var n=c();if(y(n))return g(n);f=setTimeout(m,function(n){var e=t-(n-l);return v?A(e,i-(n-s)):e}(n))}function g(n){return f=void 0,p&&o?h(n):(o=u=void 0,a)}function O(){var n=c(),e=y(n);if(o=arguments,u=this,l=n,e){if(void 0===f)return b(l);if(v)return clearTimeout(f),f=setTimeout(m,t),h(l)}return void 0===f&&(f=setTimeout(m,t)),a}return t=E(t)||0,Object(r.a)(e)&&(d=!!e.leading,i=(v="maxWait"in e)?M(E(e.maxWait)||0,t):i,p="trailing"in e?!!e.trailing:p),O.cancel=function(){void 0!==f&&clearTimeout(f),s=0,o=l=u=f=void 0},O.flush=function(){return void 0===f?a:g(c())},O}},function(n,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t,e){"use strict";(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.a=e}).call(this,e(5))},function(n,t,e){"use strict";e.r(t),e.d(t,"useToggle",(function(){return l})),e.d(t,"useBoolean",(function(){return s})),e.d(t,"useTitle",(function(){return y})),e.d(t,"useLatest",(function(){return d})),e.d(t,"useDebounce",(function(){return O})),e.d(t,"useUpdate",(function(){return j})),e.d(t,"useRequest",(function(){return X})),e.d(t,"useMemoizedFn",(function(){return K})),e.d(t,"useDebounceFn",(function(){return g})),e.d(t,"useUnmount",(function(){return p})),e.d(t,"useCreation",(function(){return R})),e.d(t,"useUpdateEffect",(function(){return S})),e.d(t,"useMount",(function(){return J})),e.d(t,"useThrottle",(function(){return Z})),e.d(t,"useThrottleFn",(function(){return Y}));var r=function(){return(r=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function o(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e}function u(n,t,e,r){return new(e||(e=Promise))((function(o,u){function i(n){try{a(r.next(n))}catch(n){u(n)}}function c(n){try{a(r.throw(n))}catch(n){u(n)}}function a(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,c)}a((r=r.apply(n,t||[])).next())}))}function i(n,t){var e,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(c){return function(a){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(i=0)),i;)try{if(e=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(n,i)}catch(n){c=[6,n],r=0}finally{e=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}Object.create;function c(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,u=e.call(n),i=[];try{for(;(void 0===t||t-- >0)&&!(r=u.next()).done;)i.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=u.return)&&e.call(u)}finally{if(o)throw o.error}}return i}function a(n,t,e){if(e||2===arguments.length)for(var r,o=0,u=t.length;o<u;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var f=e(0);var l=function(n,t){void 0===n&&(n=!1);var e=c(Object(f.useState)(n),2),r=e[0],o=e[1];return[r,Object(f.useMemo)((function(){var e=void 0===t?!n:t;return{setLeft:function(){return o(n)},setRight:function(){return o(e)},set:function(n){return o(n)},toggle:function(){return o((function(t){return t===n?e:n}))}}}),[])]};function s(n){void 0===n&&(n=!1);var t=c(l(!!n),2),e=t[0],r=t[1],o=r.toggle,u=r.set;return[e,Object(f.useMemo)((function(){return{toggle:o,set:function(n){return u(!!n)},setTrue:function(){return u(!0)},setFalse:function(){return u(!1)}}}),[])]}var d=function(n){var t=Object(f.useRef)(n);return t.current=n,t},v=e(1),p=function(n){var t=d(n);Object(f.useEffect)((function(){return function(){t.current()}}),[])},h=!("undefined"==typeof window||!window.document||!window.document.createElement),b={restoreOnUnmount:!1};var y=function(n,t){void 0===t&&(t=b);var e=Object(f.useRef)(h?document.title:"");Object(f.useEffect)((function(){document.title=n}),[n]),p((function(){t.restoreOnUnmount&&(document.title=e.current)}))},m=e(4);var g=function(n,t){var e,r=d(n),o=null!==(e=null==t?void 0:t.wait)&&void 0!==e?e:1e3,u=Object(f.useMemo)((function(){return Object(m.a)((function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.current.apply(r,a([],c(n),!1))}),o,t)}),[]);return p((function(){u.cancel()})),{run:u,cancel:u.cancel,flush:u.flush}};var O=function(n,t){var e=c(Object(f.useState)(n),2),r=e[0],o=e[1],u=g((function(){o(n)}),t).run;return Object(f.useEffect)((function(){u()}),[n]),r},j=function(){var n=c(Object(f.useState)({}),2)[1];return Object(f.useCallback)((function(){return n({})}),[])},w=function(n){return function(t,e){var r=Object(f.useRef)(!1);n((function(){return function(){r.current=!1}}),[]),n((function(){if(r.current)return t();r.current=!0}),e)}},S=w,T=w(f.useEffect),P=function(n,t){var e=t.manual,r=t.ready,o=void 0===r||r,u=t.defaultParams,i=void 0===u?[]:u,l=t.refreshDeps,s=void 0===l?[]:l,d=t.refreshDepsAction,v=Object(f.useRef)(!1);return v.current=!1,T((function(){!e&&o&&(v.current=!0,n.run.apply(n,a([],c(i),!1)))}),[o]),T((function(){v.current||e||(v.current=!0,d?d():n.refresh())}),a([],c(s),!1)),{onBefore:function(){if(!o)return{stopNow:!0}}}};P.onInit=function(n){var t=n.ready,e=void 0===t||t;return{loading:!n.manual&&e}};var x=P;function R(n,t){var e=Object(f.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==e.initialized&&function(n,t){if(n===t)return!0;for(var e=0;e<n.length;e++)if(!Object.is(n[e],t[e]))return!1;return!0}(e.deps,t)||(e.deps=t,e.obj=n(),e.initialized=!0),e.obj}var E=new Map,M=new Map,A={},F=function(n,t){return A[n]||(A[n]=[]),A[n].push(t),function(){var e=A[n].indexOf(t);A[n].splice(e,1)}},C=function(n,t){var e=t.cacheKey,o=t.cacheTime,u=void 0===o?3e5:o,i=t.staleTime,l=void 0===i?0:i,s=t.setCache,d=t.getCache,v=Object(f.useRef)(),h=Object(f.useRef)(),b=function(n,t){s?s(t):function(n,t,e){var o=E.get(n);(null==o?void 0:o.timer)&&clearTimeout(o.timer);var u=void 0;t>-1&&(u=setTimeout((function(){E.delete(n)}),t)),E.set(n,r(r({},e),{timer:u}))}(n,u,t),function(n,t){A[n]&&A[n].forEach((function(n){return n(t)}))}(n,t.data)},y=function(n,t){return void 0===t&&(t=[]),d?d(t):function(n){return E.get(n)}(n)};return R((function(){if(e){var t=y(e);t&&Object.hasOwnProperty.call(t,"data")&&(n.state.data=t.data,n.state.params=t.params,(-1===l||(new Date).getTime()-t.time<=l)&&(n.state.loading=!1)),v.current=F(e,(function(t){n.setState({data:t})}))}}),[]),p((function(){var n;null===(n=v.current)||void 0===n||n.call(v)})),e?{onBefore:function(n){var t=y(e,n);return t&&Object.hasOwnProperty.call(t,"data")?-1===l||(new Date).getTime()-t.time<=l?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(n,t){var r=function(n){return M.get(n)}(e);return r&&r!==h.current||(r=n.apply(void 0,a([],c(t),!1)),h.current=r,function(n,t){M.set(n,t),t.then((function(t){return M.delete(n),t})).catch((function(){M.delete(n)}))}(e,r)),{servicePromise:r}},onSuccess:function(t,r){var o;e&&(null===(o=v.current)||void 0===o||o.call(v),b(e,{data:t,params:r,time:(new Date).getTime()}),v.current=F(e,(function(t){n.setState({data:t})})))},onMutate:function(t){var r;e&&(null===(r=v.current)||void 0===r||r.call(v),b(e,{data:t,params:n.state.params,time:(new Date).getTime()}),v.current=F(e,(function(t){n.setState({data:t})})))}}:{}},D=function(n,t){var e=t.debounceWait,r=t.debounceLeading,o=t.debounceTrailing,u=t.debounceMaxWait,i=Object(f.useRef)(),l=Object(f.useMemo)((function(){var n={};return void 0!==r&&(n.leading=r),void 0!==o&&(n.trailing=o),void 0!==u&&(n.maxWait=u),n}),[r,o,u]);return Object(f.useEffect)((function(){if(e){var t=n.runAsync.bind(n);return i.current=Object(m.a)((function(n){n()}),e,l),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise((function(e,r){var o;null===(o=i.current)||void 0===o||o.call(i,(function(){t.apply(void 0,a([],c(n),!1)).then(e).catch(r)}))}))},function(){var e;null===(e=i.current)||void 0===e||e.cancel(),n.runAsync=t}}}),[e,l]),e?{onCancel:function(){var n;null===(n=i.current)||void 0===n||n.cancel()}}:{}},N=function(n,t){var e=t.loadingDelay,r=t.ready,o=Object(f.useRef)();if(!e)return{};var u=function(){o.current&&clearTimeout(o.current)};return{onBefore:function(){return u(),!1!==r&&(o.current=setTimeout((function(){n.setState({loading:!0})}),e)),{loading:!1}},onFinally:function(){u()},onCancel:function(){u()}}};function B(){return!h||"hidden"!==document.visibilityState}var H=[];if(h){window.addEventListener("visibilitychange",(function(){if(B())for(var n=0;n<H.length;n++){(0,H[n])()}}),!1)}var L=function(n){return H.push(n),function(){var t=H.indexOf(n);H.splice(t,1)}},W=function(n,t){var e=t.pollingInterval,r=t.pollingWhenHidden,o=void 0===r||r,u=t.pollingErrorRetryCount,i=void 0===u?-1:u,c=Object(f.useRef)(),a=Object(f.useRef)(),l=Object(f.useRef)(0),s=function(){var n;c.current&&clearTimeout(c.current),null===(n=a.current)||void 0===n||n.call(a)};return T((function(){e||s()}),[e]),e?{onBefore:function(){s()},onError:function(){l.current+=1},onSuccess:function(){l.current=0},onFinally:function(){-1===i||-1!==i&&l.current<=i?c.current=setTimeout((function(){o||B()?n.refresh():a.current=L((function(){n.refresh()}))}),e):l.current=0},onCancel:function(){s()}}:{}};var I=[];if(h){var k=function(){if(B()&&(!h||void 0===navigator.onLine||navigator.onLine))for(var n=0;n<I.length;n++){(0,I[n])()}};window.addEventListener("visibilitychange",k,!1),window.addEventListener("focus",k,!1)}var U=function(n){return I.push(n),function(){var t=I.indexOf(n);t>-1&&I.splice(t,1)}},_=function(n,t){var e=t.refreshOnWindowFocus,r=t.focusTimespan,o=void 0===r?5e3:r,u=Object(f.useRef)(),i=function(){var n;null===(n=u.current)||void 0===n||n.call(u)};return Object(f.useEffect)((function(){if(e){var t=(r=n.refresh.bind(n),f=o,l=!1,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];l||(l=!0,r.apply(void 0,a([],c(n),!1)),setTimeout((function(){l=!1}),f))});u.current=U((function(){t()}))}var r,f,l;return function(){i()}}),[e,o]),p((function(){i()})),{}},q=function(n,t){var e=t.retryInterval,r=t.retryCount,o=Object(f.useRef)(),u=Object(f.useRef)(0),i=Object(f.useRef)(!1);return r?{onBefore:function(){i.current||(u.current=0),i.current=!1,o.current&&clearTimeout(o.current)},onSuccess:function(){u.current=0},onError:function(){if(u.current+=1,-1===r||u.current<=r){var t=null!=e?e:Math.min(1e3*Math.pow(2,u.current),3e4);o.current=setTimeout((function(){i.current=!0,n.refresh()}),t)}else u.current=0},onCancel:function(){u.current=0,o.current&&clearTimeout(o.current)}}:{}},z=e(2);var $=function(n,t,e){var r=!0,o=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return Object(z.a)(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),Object(m.a)(n,t,{leading:r,maxWait:t,trailing:o})},G=function(n,t){var e=t.throttleWait,r=t.throttleLeading,o=t.throttleTrailing,u=Object(f.useRef)(),i={};return void 0!==r&&(i.leading=r),void 0!==o&&(i.trailing=o),Object(f.useEffect)((function(){if(e){var t=n.runAsync.bind(n);return u.current=$((function(n){n()}),e,i),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise((function(e,r){var o;null===(o=u.current)||void 0===o||o.call(u,(function(){t.apply(void 0,a([],c(n),!1)).then(e).catch(r)}))}))},function(){var e;n.runAsync=t,null===(e=u.current)||void 0===e||e.cancel()}}}),[e,r,o]),e?{onCancel:function(){var n;null===(n=u.current)||void 0===n||n.cancel()}}:{}};var K=function(n){var t=Object(f.useRef)(n);t.current=Object(f.useMemo)((function(){return n}),[n]);var e=Object(f.useRef)();return e.current||(e.current=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.current.apply(this,n)}),e.current},J=function(n){Object(f.useEffect)((function(){null==n||n()}),[])},Q=function(){function n(n,t,e,o){void 0===o&&(o={}),this.serviceRef=n,this.options=t,this.subscribe=e,this.initState=o,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=r(r(r({},this.state),{loading:!t.manual}),o)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=r(r({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=this.pluginImpls.map((function(e){var r;return null===(r=e[n])||void 0===r?void 0:r.call.apply(r,a([e],c(t),!1))})).filter(Boolean);return Object.assign.apply(Object,a([{}],c(r),!1))},n.prototype.runAsync=function(){for(var n,t,e,f,l,s,d,v,p,h,b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];return u(this,void 0,void 0,(function(){var u,y,m,g,O,j,w,S,T,P,x;return i(this,(function(i){switch(i.label){case 0:if(this.count+=1,u=this.count,y=this.runPluginHandler("onBefore",b),m=y.stopNow,g=void 0!==m&&m,O=y.returnNow,j=void 0!==O&&O,w=o(y,["stopNow","returnNow"]),g)return[2,new Promise((function(){}))];if(this.setState(r({loading:!0,params:b},w)),j)return[2,Promise.resolve(w.data)];null===(t=(n=this.options).onBefore)||void 0===t||t.call(n,b),i.label=1;case 1:return i.trys.push([1,3,,4]),(S=this.runPluginHandler("onRequest",this.serviceRef.current,b).servicePromise)||(S=(x=this.serviceRef).current.apply(x,a([],c(b),!1))),[4,S];case 2:return T=i.sent(),u!==this.count?[2,new Promise((function(){}))]:(this.setState({data:T,error:void 0,loading:!1}),null===(f=(e=this.options).onSuccess)||void 0===f||f.call(e,T,b),this.runPluginHandler("onSuccess",T,b),null===(s=(l=this.options).onFinally)||void 0===s||s.call(l,b,T,void 0),u===this.count&&this.runPluginHandler("onFinally",b,T,void 0),[2,T]);case 3:if(P=i.sent(),u!==this.count)return[2,new Promise((function(){}))];throw this.setState({error:P,loading:!1}),null===(v=(d=this.options).onError)||void 0===v||v.call(d,P,b),this.runPluginHandler("onError",P,b),null===(h=(p=this.options).onFinally)||void 0===h||h.call(p,b,void 0,P),u===this.count&&this.runPluginHandler("onFinally",b,void 0,P),P;case 4:return[2]}}))}))},n.prototype.run=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.runAsync.apply(this,a([],c(t),!1)).catch((function(t){n.options.onError||console.error(t)}))},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,a([],c(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,a([],c(this.state.params||[]),!1))},n.prototype.mutate=function(n){var t=Object(v.a)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}();var V=function(n,t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var u=t.manual,i=void 0!==u&&u,f=o(t,["manual"]),l=r({manual:i},f),s=d(n),v=j(),h=R((function(){var n=e.map((function(n){var t;return null===(t=null==n?void 0:n.onInit)||void 0===t?void 0:t.call(n,l)})).filter(Boolean);return new Q(s,l,v,Object.assign.apply(Object,a([{}],c(n),!1)))}),[]);return h.options=l,h.pluginImpls=e.map((function(n){return n(h,l)})),J((function(){if(!i){var n=h.state.params||t.defaultParams||[];h.run.apply(h,a([],c(n),!1))}})),p((function(){h.cancel()})),{loading:h.state.loading,data:h.state.data,error:h.state.error,params:h.state.params||[],cancel:K(h.cancel.bind(h)),refresh:K(h.refresh.bind(h)),refreshAsync:K(h.refreshAsync.bind(h)),run:K(h.run.bind(h)),runAsync:K(h.runAsync.bind(h)),mutate:K(h.mutate.bind(h))}};var X=function(n,t,e){return V(n,t,a(a([],c(e||[]),!1),[D,N,W,_,G,x,C,q],!1))};var Y=function(n,t){var e,r=d(n),o=null!==(e=null==t?void 0:t.wait)&&void 0!==e?e:1e3,u=Object(f.useMemo)((function(){return $((function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.current.apply(r,a([],c(n),!1))}),o,t)}),[]);return p((function(){u.cancel()})),{run:u,cancel:u.cancel,flush:u.flush}};var Z=function(n,t){var e=c(Object(f.useState)(n),2),r=e[0],o=e[1],u=Y((function(){o(n)}),t).run;return Object(f.useEffect)((function(){u()}),[n]),r}}])}));